<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Resume & Cover Letter Generator</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; max-width: 800px; }
    label, input, button, select { display: block; margin: 10px 0; width: 100%; }
    textarea { width: 100%; height: 300px; margin-top: 10px; }
    .download-container { display: flex; align-items: center; gap: 10px; }
    button { padding: 10px; cursor: pointer; }
    select { padding: 8px; }
  </style>
</head>
<body>
  <h1>Resume & Cover Letter Generator</h1>
  <label for="employer">Employer's Name:</label>
  <input type="text" id="employer" placeholder="Enter employer's name">

  <label for="position">Position Title:</label>
  <input type="text" id="position" placeholder="Enter position title">

  <button onclick="generateDocuments()">Generate Cover Letter</button>

  <h2>Resume (Editable)</h2>
  <textarea id="resumeText">MICHAEL OSTRAGER

GIS Specialist | Analyst
New York, NY 12866 | 1-(917)-573-1443 | michael.ostrager@gmail.com | LinkedIn

QUALIFICATIONS SUMMARY
Dynamic and results-driven professional with valuable experience in overseeing spatial analysis and geographic data management...</textarea>
  <div class="download-container">
    <a id="downloadResumeLink" onclick="downloadResume()" style="text-decoration: none;">
      <button>Download Resume</button>
    </a>
  </div>

  <h2>Cover Letter</h2>
  <textarea id="coverLetterText" readonly></textarea>
  <div class="download-container">
    <button onclick="downloadFile()">Download CV</button>
    <select id="fileFormat">
      <option value="docx" selected>.docx</option>
      <option value="pdf">.pdf</option>
      <option value="jpg">.jpg</option>
      <option value="jpeg">.jpeg</option>
      <option value="doc">.doc</option>
    </select>
  </div>

  <script>
    const { jsPDF } = window.jspdf;

    const coverLetterTemplate = `MICHAEL OSTRAGER\n\nGIS Specialist | Analyst\nNew York, NY 12866 | 1-(917)-573-1443 | michael.ostrager@gmail.com | LinkedIn\n\n{{date}}\n\n{{employer}},\n\nDear Hiring Manager,\n\nAs a focused professional, I possess progressive experience in spatial analysis, geospatial data management, environmental compliance, technical project management, and risk analysis and mitigation. I have a proven record of leading the management of complex data sets to support environmental permitting and infrastructure projects. After reading your requirements for the {{position}} position, I am confident in my abilities and experiences to excel in this capacity.\n\nThank you for your time and consideration. I look forward to exploring how I can contribute to your organization.\n\nSincerely,\nMichael Ostrager`;

    function generateDocuments() {
      const employer = document.getElementById('employer').value || 'Hiring Manager';
      const position = document.getElementById('position').value || 'Position';
      const date = new Date().toLocaleDateString();

      const coverLetter = coverLetterTemplate
        .replace(/{{employer}}/g, employer)
        .replace(/{{position}}/g, position)
        .replace(/{{date}}/g, date);

      document.getElementById('coverLetterText').value = coverLetter;
    }

    function downloadFile() {
      const text = document.getElementById('coverLetterText').value;
      const format = document.getElementById('fileFormat').value;

      if (format === 'pdf') {
        const doc = new jsPDF();
        const lines = doc.splitTextToSize(text, 180);
        doc.text(lines, 10, 10);
        doc.save('Michael_Ostrager_Cover_Letter.pdf');
      } else {
        let mimeType;
        switch (format) {
          case 'doc':
          case 'docx':
            mimeType = 'application/vnd.openxmlformats-officedocument.wordprocessingml.document';
            break;
          default:
            mimeType = 'text/plain';
        }
        const blob = new Blob([text], { type: mimeType });
        const link = document.createElement('a');
        link.href = URL.createObjectURL(blob);
        link.download = `Michael_Ostrager_Cover_Letter.${format}`;
        link.click();
      }
    }

    function downloadResume() {
      const resumeText = document.getElementById('resumeText').value;
      const blob = new Blob([resumeText], { type: 'text/plain' });
      const link = document.createElement('a');
      link.href = URL.createObjectURL(blob);
      link.download = 'Michael_Ostrager_Resume.txt';
      link.click();
    }
  </script>
</body>
</html>
